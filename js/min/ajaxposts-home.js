function quanAjaxPosts(a){$.ajax({type:"POST",url:ajaxurl,data:{action:"quan_query_posts",query_strings:a},success:function(a){var b=$.parseJSON(a),c=$.parseJSON($("#postids").val()),d=$.map(c,function(a){return a}),e=b,e=$.map(b,function(a){return a});return $.each(b,function(a,b){d.splice($.inArray(b,d),1)}),setTimeout(function(){$.each(e,function(a,b){$("#post-"+b).fadeTo(1e3,1)})},550),$.each(d,function(a,b){$("#post-"+b).fadeTo(500,0),setTimeout(function(){$("#post-"+b).hide()},550)}),b.reverse(),$.each(b,function(a,b){setTimeout(function(){$("#post-"+b).prependTo("#loop .main-loop")},550)}),0===b.length&&0===$("#nothing-here").length&&setTimeout(function(){$("#loop").append(ajaxpost_home_localization.nothing_here)},900),setTimeout(function(){resetHeights()},550),setTimeout(function(){tweetAuthorPosition()},550),!1}})}function showHideLoading(){$("#loading-canvas").css({position:"fixed",top:0,left:0,right:0,bottom:0,"z-index":9,"background-color":"rgba(136,182,229,.4)"});var a={lines:13,length:14,width:10,radius:22,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:51,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},b=document.getElementById("loading-canvas"),c=new Spinner(a).spin(b);setTimeout(function(){$("#loading-canvas").css({"z-index":-9,"background-color":"none"}),c.stop()},1e3)}var catID=$.urlParam("cat"),tagID=$.urlParam("tag");if(window.history.replaceState(history.state,"BOO","./"),null!==catID){var queryStrings={cat_id:catID};quanAjaxPosts(queryStrings)}if(null!==tagID){document.getElementById("tweetfilter").checked=!1;var queryStrings={tag_id:tagID,lang:$("#language-filter").val()};quanAjaxPosts(queryStrings)}window.catCopy="all",$(document).ready(function(){$("#language-filter").show()}),$("#language-filter").change(function(){$("#nothing-here").remove(),showHideLoading();var a={lang:$(this).val(),cat_id:catCopy,twitter:$("#tweetfilter").is(":checked")};quanAjaxPosts(a)}),$("#tweetfilter").change(function(){$("#nothing-here").remove(),showHideLoading();var a={lang:$("#language-filter").val(),cat_id:catCopy,twitter:$(this).is(":checked")};quanAjaxPosts(a)});